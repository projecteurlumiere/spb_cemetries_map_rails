var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;L.Control.Sidebar=L.Control.extend({includes:L.Evented?L.Evented.prototype:L.Mixin.Events,options:{autopan:false,closeButton:true,container:null,position:"left"},initialize:function(e,i){if("string"===typeof e){console.warn("this syntax is deprecated. please use L.control.sidebar({ container }) now");e={container:e}}if("object"===typeof e&&e.id){console.warn("this syntax is deprecated. please use L.control.sidebar({ container }) now");e.container=e.id}(this||t)._tabitems=[];(this||t)._panes=[];(this||t)._closeButtons=[];L.setOptions(this||t,e);L.setOptions(this||t,i);return this||t},onAdd:function(e){var i,s,o,n,a;a=(this||t)._container;a||(a=(this||t)._container||"string"===typeof(this||t).options.container?L.DomUtil.get((this||t).options.container):(this||t).options.container);if(!a){a=L.DomUtil.create("div","leaflet-sidebar collapsed");"string"===typeof(this||t).options.container&&(a.id=(this||t).options.container)}(this||t)._paneContainer=a.querySelector("div.leaflet-sidebar-content");null===(this||t)._paneContainer&&((this||t)._paneContainer=L.DomUtil.create("div","leaflet-sidebar-content",a));o=a.querySelectorAll("ul.leaflet-sidebar-tabs, div.leaflet-sidebar-tabs > ul");(this||t)._tabContainerTop=o[0]||null;(this||t)._tabContainerBottom=o[1]||null;if(null===(this||t)._tabContainerTop){n=L.DomUtil.create("div","leaflet-sidebar-tabs",a);n.setAttribute("role","tablist");(this||t)._tabContainerTop=L.DomUtil.create("ul","",n)}if(null===(this||t)._tabContainerBottom){n=(this||t)._tabContainerTop.parentNode;(this||t)._tabContainerBottom=L.DomUtil.create("ul","",n)}for(i=0;i<(this||t)._tabContainerTop.children.length;i++){s=(this||t)._tabContainerTop.children[i];s._sidebar=this||t;s._id=s.querySelector("a").hash.slice(1);(this||t)._tabitems.push(s)}for(i=0;i<(this||t)._tabContainerBottom.children.length;i++){s=(this||t)._tabContainerBottom.children[i];s._sidebar=this||t;s._id=s.querySelector("a").hash.slice(1);(this||t)._tabitems.push(s)}for(i=0;i<(this||t)._paneContainer.children.length;i++){s=(this||t)._paneContainer.children[i];if("DIV"===s.tagName&&L.DomUtil.hasClass(s,"leaflet-sidebar-pane")){(this||t)._panes.push(s);var l=s.querySelectorAll(".leaflet-sidebar-close");if(l.length){(this||t)._closeButtons.push(l[l.length-1]);this._closeClick(l[l.length-1],"on")}}}for(i=0;i<(this||t)._tabitems.length;i++)this._tabClick((this||t)._tabitems[i],"on");return a},onRemove:function(e){for(var i=0;i<(this||t)._tabitems.length;i++)this._tabClick((this||t)._tabitems[i],"off");for(var i=0;i<(this||t)._closeButtons.length;i++)this._closeClick((this||t)._closeButtons[i],"off");(this||t)._tabitems=[];(this||t)._panes=[];(this||t)._closeButtons=[];return this||t},addTo:function(e){this.onRemove();(this||t)._map=e;(this||t)._container=this.onAdd(e);L.DomUtil.addClass((this||t)._container,"leaflet-control");L.DomUtil.addClass((this||t)._container,"leaflet-sidebar-"+this.getPosition());L.Browser.touch&&L.DomUtil.addClass((this||t)._container,"leaflet-touch");L.DomEvent.disableScrollPropagation((this||t)._container);L.DomEvent.disableClickPropagation((this||t)._container);L.DomEvent.on((this||t)._container,"contextmenu",L.DomEvent.stopPropagation);e._container.insertBefore((this||t)._container,e._container.firstChild);return this||t},removeFrom:function(e){console.warn("removeFrom() has been deprecated, please use remove() instead as support for this function will be ending soon.");(this||t)._map._container.removeChild((this||t)._container);this.onRemove(e);return this||t},open:function(e){var i,s,o;o=this._getTab(e);if(L.DomUtil.hasClass(o,"disabled"))return this||t;for(i=0;i<(this||t)._panes.length;i++){s=(this||t)._panes[i];s.id===e?L.DomUtil.addClass(s,"active"):L.DomUtil.hasClass(s,"active")&&L.DomUtil.removeClass(s,"active")}for(i=0;i<(this||t)._tabitems.length;i++){s=(this||t)._tabitems[i];s.querySelector("a").hash==="#"+e?L.DomUtil.addClass(s,"active"):L.DomUtil.hasClass(s,"active")&&L.DomUtil.removeClass(s,"active")}this.fire("content",{id:e});if(L.DomUtil.hasClass((this||t)._container,"collapsed")){this.fire("opening");L.DomUtil.removeClass((this||t)._container,"collapsed");(this||t).options.autopan&&this._panMap("open")}return this||t},close:function(){var e;for(e=0;e<(this||t)._tabitems.length;e++){var i=(this||t)._tabitems[e];L.DomUtil.hasClass(i,"active")&&L.DomUtil.removeClass(i,"active")}if(!L.DomUtil.hasClass((this||t)._container,"collapsed")){this.fire("closing");L.DomUtil.addClass((this||t)._container,"collapsed");(this||t).options.autopan&&this._panMap("close")}return this||t},addPanel:function(e){var i,s,o,n,a;s=L.DomUtil.create("li",e.disabled?"disabled":"");o=L.DomUtil.create("a","",s);o.href="#"+e.id;o.setAttribute("role","tab");o.innerHTML=e.tab;s._sidebar=this||t;s._id=e.id;s._button=e.button;e.title&&"<"!==e.title[0]&&(s.title=e.title);"bottom"===e.position?(this||t)._tabContainerBottom.appendChild(s):(this||t)._tabContainerTop.appendChild(s);(this||t)._tabitems.push(s);if(e.pane){if("string"===typeof e.pane){i=L.DomUtil.create("DIV","leaflet-sidebar-pane",(this||t)._paneContainer);a="";e.title&&(a+='<h1 class="leaflet-sidebar-header">'+e.title);(this||t).options.closeButton&&(a+='<span class="leaflet-sidebar-close"><i class="fa fa-caret-'+(this||t).options.position+'"></i></span>');e.title&&(a+="</h1>");i.innerHTML=a+e.pane}else{i=e.pane;(this||t)._paneContainer.appendChild(i)}i.id=e.id;(this||t)._panes.push(i);n=i.querySelectorAll(".leaflet-sidebar-close");if(n.length){(this||t)._closeButtons.push(n[n.length-1]);this._closeClick(n[n.length-1],"on")}}this._tabClick(s,"on");return this||t},removePanel:function(e){var i,s,o,n,a;for(i=0;i<(this||t)._tabitems.length;i++)if((this||t)._tabitems[i]._id===e){o=(this||t)._tabitems[i];this._tabClick(o,"off");o.remove();(this||t)._tabitems.splice(i,1);break}for(i=0;i<(this||t)._panes.length;i++)if((this||t)._panes[i].id===e){n=(this||t)._panes[i];a=n.querySelectorAll(".leaflet-sidebar-close");for(s=0;s<a.length;s++)this._closeClick(a[s],"off");n.remove();(this||t)._panes.splice(i,1);break}return this||t},enablePanel:function(e){var i=this._getTab(e);L.DomUtil.removeClass(i,"disabled");return this||t},disablePanel:function(e){var i=this._getTab(e);L.DomUtil.addClass(i,"disabled");return this||t},onTabClick:function(e){L.DomUtil.hasClass(this||t,"active")?(this||t)._sidebar.close():L.DomUtil.hasClass(this||t,"disabled")||("string"===typeof(this||t)._button?window.location.href=(this||t)._button:"function"===typeof(this||t)._button?this._button(e):(this||t)._sidebar.open(this.querySelector("a").hash.slice(1)))},_tabClick:function(e,i){var s=e.querySelector("a");s.hasAttribute("href")&&"#"===s.getAttribute("href")[0]&&("on"===i?L.DomEvent.on(e.querySelector("a"),"click",L.DomEvent.preventDefault,e).on(e.querySelector("a"),"click",(this||t).onTabClick,e):L.DomEvent.off(e.querySelector("a"),"click",(this||t).onTabClick,e))},onCloseClick:function(){this.close()},_closeClick:function(e,i){"on"===i?L.DomEvent.on(e,"click",(this||t).onCloseClick,this||t):L.DomEvent.off(e,"click",(this||t).onCloseClick)},_getTab:function(e){for(var i=0;i<(this||t)._tabitems.length;i++)if((this||t)._tabitems[i]._id===e)return(this||t)._tabitems[i];throw Error('tab "'+e+'" not found')},_panMap:function(e){var i=Number.parseInt(L.DomUtil.getStyle((this||t)._container,"max-width"))/2;("open"===e&&"left"===(this||t).options.position||"close"===e&&"right"===(this||t).options.position)&&(i*=-1);(this||t)._map.panBy([i,0],{duration:.5})}});L.control.sidebar=function(t,e){return new L.Control.Sidebar(t,e)};var e={};export default e;

